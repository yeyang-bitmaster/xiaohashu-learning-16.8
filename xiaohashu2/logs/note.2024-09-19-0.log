2024-09-19 15:22:43.525 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-19 15:22:43.560 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-19 15:22:43.856 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-19 15:22:43.864 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-19 15:22:43.864 [main] INFO  c.q.xiaohashu.note.biz.XiaohashuNoteBizApplication - The following 1 profile is active: "dev"
2024-09-19 15:22:44.188 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-19 15:22:44.190 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-19 15:22:44.203 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-19 15:22:44.343 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=8672c2e7-ab56-3722-841f-dd5e6000082c
2024-09-19 15:22:44.363 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.364 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.366 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.515 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.551 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.553 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.555 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.555 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$721/0x000001e0d653aca8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.556 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.559 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.560 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-19 15:22:44.726 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-09-19 15:22:44.733 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-19 15:22:44.733 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-19 15:22:44.795 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-19 15:22:44.795 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 920 ms
2024-09-19 15:22:44.864 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-19 15:22:45.072 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-19 15:22:45.232 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2024-09-19 15:22:45.255 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-kv' URL not provided. Will try picking an instance via load-balancing.
2024-09-19 15:22:45.266 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-19 15:22:45.515 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-19 15:22:45.729 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2024-09-19 15:22:45.729 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-19 15:22:46.225 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-09-19 15:22:46.229 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-19 15:22:46.229 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-19 15:22:46.229 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-19 15:22:46.230 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-19 15:22:46.242 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-19 15:22:46.242 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-19 15:22:46.243 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-19 15:22:46.245 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-19 15:22:46.245 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-19 15:22:46.246 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-19 15:22:46.252 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of e6a2dd21-bb5c-4302-83bd-e425ce107a0a
2024-09-19 15:22:46.262 [main] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-19 15:22:46.262 [main] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-19 15:22:46.263 [main] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-19 15:22:46.264 [main] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-19 15:22:46.285 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-19 15:22:46.841 [main] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1726730566685_172.17.0.1_48464
2024-09-19 15:22:46.841 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] Notify connected event to listeners.
2024-09-19 15:22:46.842 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-19 15:22:46.842 [main] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-19 15:22:46.842 [main] INFO  com.alibaba.nacos.common.remote.client - [e6a2dd21-bb5c-4302-83bd-e425ce107a0a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1292/0x000001e0d69a6608
2024-09-19 15:22:46.843 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-note with instance Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-19 15:22:46.853 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-note 192.168.1.3:8086 register finished
2024-09-19 15:22:46.952 [main] INFO  c.q.xiaohashu.note.biz.XiaohashuNoteBizApplication - Started XiaohashuNoteBizApplication in 3.796 seconds (process running for 4.127)
2024-09-19 15:23:16.719 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-19 15:23:16.719 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-09-19 15:23:16.720 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-09-19 15:23:16.725 [http-nio-8086-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 27
2024-09-19 15:23:16.808 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记修改], 入参: {"id":1826564539961835538,"type":1,"imgUris":null,"videoUri":"http://116.62.199.48:9000/weblog/c89cc6b66f0341c0b7854771ae063eac.jpg","title":"测试标题测试标题测试标题测试标题1111222333","content":"3333","topicId":4}, 请求类: NoteController, 请求方法: updateNote =================================== 
2024-09-19 15:23:16.837 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid from t_note where id = ? and status = 1
2024-09-19 15:23:16.987 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1826564539961835538(Long)
2024-09-19 15:23:17.016 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 0
2024-09-19 15:23:17.024 [http-nio-8086-exec-1] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/update request fail, errorCode: NOTE-20002, errorMessage: 笔记不存在
2024-09-19 15:23:17.036 [http-nio-8086-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 27
2024-09-19 15:24:37.750 [http-nio-8086-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 27
2024-09-19 15:24:37.752 [http-nio-8086-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [笔记修改], 入参: {"id":1826564539961835539,"type":1,"imgUris":null,"videoUri":"http://116.62.199.48:9000/weblog/c89cc6b66f0341c0b7854771ae063eac.jpg","title":"测试标题测试标题测试标题测试标题1111222333","content":"3333","topicId":4}, 请求类: NoteController, 请求方法: updateNote =================================== 
2024-09-19 15:24:37.754 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid from t_note where id = ? and status = 1
2024-09-19 15:24:37.755 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1826564539961835539(Long)
2024-09-19 15:24:37.762 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2024-09-19 15:24:37.765 [http-nio-8086-exec-3] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/update request fail, errorCode: NOTE-20007, errorMessage: 您无法操作该笔记
2024-09-19 15:24:37.765 [http-nio-8086-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 27
