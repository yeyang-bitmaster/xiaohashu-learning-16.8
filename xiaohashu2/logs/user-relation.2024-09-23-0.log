2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_10] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Unfollow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_16] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Follow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_14] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Follow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_15] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Unfollow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_9] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Follow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_12] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Unfollow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Follow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_7] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Unfollow
2024-09-23 14:37:29.741 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Follow
2024-09-23 14:37:29.770 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:37:29.774 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:37:29.775 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:37:29(LocalDateTime)
2024-09-23 14:37:29.775 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:37:29.778 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 14:37:29.780 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:37:29.780 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 14:37:29.780 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:37:29.780 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:37:29.780 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:37:29.780 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:37:29(LocalDateTime)
2024-09-23 14:37:29.780 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T14:37:29(LocalDateTime)
2024-09-23 14:37:29.782 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 14:37:29.785 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:37:29.785 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:37:29(LocalDateTime)
2024-09-23 14:37:29.790 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:37:29.790 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:37:29(LocalDateTime)
2024-09-23 14:37:29.796 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:37:29.797 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:37:29.802 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:37:29.802 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:37:29(LocalDateTime)
2024-09-23 14:37:29.803 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 14:37:29.803 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 14:37:29.803 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:37:29.803 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 14:37:29.803 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:37:29.805 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 14:37:29.813 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 14:37:29.814 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:37:29.814 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T14:37:29(LocalDateTime)
2024-09-23 14:37:29.815 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 14:37:29.918 [ConsumeMessageThread_xiaohashu_group_16] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 14:37:29.918 [ConsumeMessageThread_xiaohashu_group_14] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 14:37:29.918 [ConsumeMessageThread_xiaohashu_group_5] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 14:37:29.922 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 14:37:29.922 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 14:37:29.922 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 14:37:29.924 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 14:37:29.934 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 14:37:30.728 [ConsumeMessageThread_xiaohashu_group_17] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:37:29"}, tags: Unfollow
2024-09-23 14:37:30.730 [ConsumeMessageThread_xiaohashu_group_17] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:37:30.730 [ConsumeMessageThread_xiaohashu_group_17] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:37:30.731 [ConsumeMessageThread_xiaohashu_group_17] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Unfollow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_19] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Follow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Follow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_18] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Follow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_3] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Unfollow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_20] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Follow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Unfollow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_15] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Follow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_16] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Unfollow
2024-09-23 14:55:05.997 [ConsumeMessageThread_xiaohashu_group_14] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 14:55:05"}, tags: Unfollow
2024-09-23 14:55:06.006 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:55:06.006 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:55:06.008 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 14:55:06.010 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:55:06.010 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:55:05(LocalDateTime)
2024-09-23 14:55:06.012 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 14:55:06.012 [ConsumeMessageThread_xiaohashu_group_19] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:55:06.012 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:55:06.012 [ConsumeMessageThread_xiaohashu_group_19] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:55:05(LocalDateTime)
2024-09-23 14:55:06.012 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T14:55:05(LocalDateTime)
2024-09-23 14:55:06.014 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 14:55:06.019 [ConsumeMessageThread_xiaohashu_group_18] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:55:06.019 [ConsumeMessageThread_xiaohashu_group_18] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:55:05(LocalDateTime)
2024-09-23 14:55:06.026 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:55:06.026 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:55:06.031 [ConsumeMessageThread_xiaohashu_group_19] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 14:55:06.031 [ConsumeMessageThread_xiaohashu_group_18] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 14:55:06.032 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:55:06.032 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 14:55:06.032 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:55:05(LocalDateTime)
2024-09-23 14:55:06.033 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 14:55:06.033 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 14:55:06.033 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:55:06.033 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:55:06.034 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 14:55:06.038 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:55:06.038 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:55:06.038 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:55:06.038 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T14:55:05(LocalDateTime)
2024-09-23 14:55:06.039 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 14:55:06.040 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 14:55:06.044 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 14:55:06.044 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 14:55:06.045 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T14:55:05(LocalDateTime)
2024-09-23 14:55:06.046 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 14:55:06.057 [ConsumeMessageThread_xiaohashu_group_15] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 14:55:06.058 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 14:55:06.058 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 14:55:06.058 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 14:55:06.059 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 14:55:06.069 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 14:55:06.070 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_12] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Follow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Unfollow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_10] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Follow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_11] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Follow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Follow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_17] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Unfollow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_8] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Unfollow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_7] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Unfollow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_13] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Follow
2024-09-23 15:06:07.871 [ConsumeMessageThread_xiaohashu_group_9] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 15:06:07"}, tags: Unfollow
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T15:06:07(LocalDateTime)
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T15:06:07(LocalDateTime)
2024-09-23 15:06:07.874 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T15:06:07(LocalDateTime)
2024-09-23 15:06:07.877 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 15:06:07.877 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 15:06:07.877 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T15:06:07(LocalDateTime)
2024-09-23 15:06:07.879 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 15:06:07.882 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 15:06:07.882 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T15:06:07(LocalDateTime)
2024-09-23 15:06:07.890 [ConsumeMessageThread_xiaohashu_group_17] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 15:06:07.891 [ConsumeMessageThread_xiaohashu_group_17] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 15:06:07.892 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 15:06:07.892 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 15:06:07.892 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 15:06:07.893 [ConsumeMessageThread_xiaohashu_group_13] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 15:06:07.894 [ConsumeMessageThread_xiaohashu_group_13] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T15:06:07(LocalDateTime)
2024-09-23 15:06:07.894 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 15:06:07.898 [ConsumeMessageThread_xiaohashu_group_8] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 15:06:07.898 [ConsumeMessageThread_xiaohashu_group_8] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 15:06:07.902 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 15:06:07.903 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 15:06:07.905 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 15:06:07.905 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 15:06:07.906 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T15:06:07(LocalDateTime)
2024-09-23 15:06:07.906 [ConsumeMessageThread_xiaohashu_group_8] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.deleteByUserIdAndFollowingUserId-Inline
### The error occurred while setting parameters
### SQL: delete from t_following     where user_id = ? and following_user_id = ?
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:277)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.delete(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.delete(SqlSessionTemplate.java:304)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:72)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.deleteByUserIdAndFollowingUserId(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleUnfollowTagMessage$1(FollowUnfollowConsumer.java:157)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleUnfollowTagMessage(FollowUnfollowConsumer.java:153)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.delete(DefaultSqlSession.java:212)
	at jdk.internal.reflect.GeneratedMethodAccessor28.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 15:06:07.906 [ConsumeMessageThread_xiaohashu_group_9] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.deleteByUserIdAndFollowingUserId-Inline
### The error occurred while setting parameters
### SQL: delete from t_following     where user_id = ? and following_user_id = ?
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:277)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.delete(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.delete(SqlSessionTemplate.java:304)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:72)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.deleteByUserIdAndFollowingUserId(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleUnfollowTagMessage$1(FollowUnfollowConsumer.java:157)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleUnfollowTagMessage(FollowUnfollowConsumer.java:153)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.delete(DefaultSqlSession.java:212)
	at jdk.internal.reflect.GeneratedMethodAccessor28.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 15:06:07.906 [ConsumeMessageThread_xiaohashu_group_17] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.deleteByUserIdAndFollowingUserId-Inline
### The error occurred while setting parameters
### SQL: delete from t_following     where user_id = ? and following_user_id = ?
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:277)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.delete(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.delete(SqlSessionTemplate.java:304)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:72)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.deleteByUserIdAndFollowingUserId(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleUnfollowTagMessage$1(FollowUnfollowConsumer.java:157)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleUnfollowTagMessage(FollowUnfollowConsumer.java:153)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.delete(DefaultSqlSession.java:212)
	at jdk.internal.reflect.GeneratedMethodAccessor28.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 15:06:07.907 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 15:06:07.911 [ConsumeMessageThread_xiaohashu_group_11] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:277)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 15:06:07.911 [ConsumeMessageThread_xiaohashu_group_13] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:277)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 15:06:07.911 [ConsumeMessageThread_xiaohashu_group_12] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:277)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:92)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:68)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:36)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy141.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 15:06:07.917 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:19:56.977 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:19:57.012 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:19:57.128 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:19:57.130 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:19:57.130 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:19:57.130 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:19:57.144 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:19:57.144 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:19:57.146 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:19:57.301 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:19:57.307 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:19:57.310 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0
2024-09-23 16:19:57.319 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x0000027258367400
2024-09-23 16:19:57.319 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x0000027258367820
2024-09-23 16:19:57.319 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:19:57.320 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:19:57.324 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:19:57.340 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:19:57.929 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079597770_172.17.0.1_60126
2024-09-23 16:19:57.929 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Notify connected event to listeners.
2024-09-23 16:19:57.929 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Connected,notify listen context...
2024-09-23 16:19:57.929 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:19:57.929 [main] INFO  com.alibaba.nacos.common.remote.client - [91c3934e-f958-48a0-b5ec-7cad8fe2331f_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000027258504890
2024-09-23 16:19:57.951 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:19:57.961 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:19:57.964 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:19:57.969 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:19:57.971 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:19:57.983 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:19:57.983 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:19:58.340 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:19:58.342 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:19:58.354 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2024-09-23 16:19:58.447 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:19:58.465 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.592 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.620 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.622 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.623 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.624 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x00000272586d1d80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.624 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.627 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.628 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:19:58.756 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8087 (http)
2024-09-23 16:19:58.762 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:19:58.762 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:19:58.797 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:19:58.798 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 805 ms
2024-09-23 16:19:58.854 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:19:59.050 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:19:59.516 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:19:59.517 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:19:59.575 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:19:59.600 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:20:00.052 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:20:00.093 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8087 (http) with context path ''
2024-09-23 16:20:00.095 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:20:00.095 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:20:00.096 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:20:00.100 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:20:00.100 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:20:00.102 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of a2b98610-407c-4ff2-88bc-312ac07d812c
2024-09-23 16:20:00.103 [main] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:20:00.103 [main] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:20:00.103 [main] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:20:00.104 [main] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:20:00.104 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:20:00.223 [main] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079600109_172.17.0.1_52042
2024-09-23 16:20:00.223 [main] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:20:00.223 [main] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000027258504890
2024-09-23 16:20:00.223 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [a2b98610-407c-4ff2-88bc-312ac07d812c] Notify connected event to listeners.
2024-09-23 16:20:00.223 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:20:00.224 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:20:00.231 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8087 register finished
2024-09-23 16:20:00.336 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.72 seconds (process running for 4.015)
2024-09-23 16:20:00.338 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:20:00.338 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:20:00.342 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:20:00.342 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:20:00.342 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:20:00.342 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:20:00.342 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:20:00.343 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:20:00.343 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:20:00.343 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:20:20.926 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:20:20.961 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:20:21.081 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:20:21.082 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:20:21.082 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:20:21.083 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:20:21.096 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:20:21.097 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:20:21.098 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:20:21.275 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:20:21.282 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:20:21.284 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 7374daf1-79e4-4248-b2e6-82d83b480997_config-0
2024-09-23 16:20:21.294 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x0000023af2366ff8
2024-09-23 16:20:21.294 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x0000023af2367418
2024-09-23 16:20:21.294 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:20:21.295 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:20:21.299 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:20:21.315 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:20:21.880 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079621730_172.17.0.1_44460
2024-09-23 16:20:21.880 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Notify connected event to listeners.
2024-09-23 16:20:21.880 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Connected,notify listen context...
2024-09-23 16:20:21.880 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:20:21.881 [main] INFO  com.alibaba.nacos.common.remote.client - [7374daf1-79e4-4248-b2e6-82d83b480997_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000023af2503d18
2024-09-23 16:20:21.903 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:20:21.914 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:20:21.918 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:20:21.922 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:20:21.925 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:20:21.935 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:20:21.936 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:20:22.292 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:20:22.294 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:20:22.307 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 16:20:22.398 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:20:22.419 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.554 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.583 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.585 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.586 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.586 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x0000023af26d1d80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.587 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.591 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.591 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:20:22.713 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2024-09-23 16:20:22.718 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:20:22.718 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:20:22.757 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:20:22.758 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 812 ms
2024-09-23 16:20:22.811 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:20:22.999 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:20:23.453 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:20:23.453 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:20:23.509 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:20:23.535 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:20:23.986 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:20:24.027 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2024-09-23 16:20:24.030 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:20:24.030 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:20:24.030 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:20:24.034 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:20:24.034 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:20:24.036 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b0485a45-9d27-469b-8b1f-083bba6002d8
2024-09-23 16:20:24.037 [main] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:20:24.038 [main] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:20:24.038 [main] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:20:24.038 [main] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:20:24.038 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:20:24.156 [main] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079624042_172.17.0.1_44474
2024-09-23 16:20:24.157 [main] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:20:24.157 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] Notify connected event to listeners.
2024-09-23 16:20:24.157 [main] INFO  com.alibaba.nacos.common.remote.client - [b0485a45-9d27-469b-8b1f-083bba6002d8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000023af2503d18
2024-09-23 16:20:24.157 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:20:24.157 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8088, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:20:24.164 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8088 register finished
2024-09-23 16:20:24.271 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.713 seconds (process running for 3.994)
2024-09-23 16:20:24.273 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:20:24.273 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:20:24.277 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:20:24.277 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:20:24.277 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:20:24.277 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:20:24.277 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:20:24.278 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:20:24.278 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:20:24.278 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:22:36.355 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 16:22:36.355 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 16:22:36.355 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 16:22:36.359 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 16:22:36.424 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 16:22:36.424 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 16:22:36.428 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@77cdb4de[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 16:22:36.429 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1726993484551_172.17.0.1_47376
2024-09-23 16:22:36.431 [nacos-grpc-client-executor-127.0.0.1-10774] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1726993484551_172.17.0.1_47376]Ignore complete event,isRunning:false,isAbandon=false
2024-09-23 16:22:36.436 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4603fb45[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 10775]
2024-09-23 16:22:36.437 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@610d72ab[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 18028]
2024-09-23 16:22:36.437 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 16:22:36.437 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 16:22:36.438 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 16:22:36.452 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:22:36.578 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 16:22:36.578 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 16:22:39.720 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:39.759 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:39.894 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:39.895 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:22:39.895 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:22:39.896 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:22:39.911 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:22:39.911 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:22:39.913 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:22:40.073 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:40.080 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:22:40.082 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of b7da4022-51a7-490b-b045-7f6417ac8be2_config-0
2024-09-23 16:22:40.092 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$585/0x000002213d38f1a0
2024-09-23 16:22:40.092 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$586/0x000002213d38f5c0
2024-09-23 16:22:40.092 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:22:40.092 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:22:40.097 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:22:40.112 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:22:40.658 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079760514_172.17.0.1_46048
2024-09-23 16:22:40.658 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Notify connected event to listeners.
2024-09-23 16:22:40.658 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Connected,notify listen context...
2024-09-23 16:22:40.659 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:22:40.659 [main] INFO  com.alibaba.nacos.common.remote.client - [b7da4022-51a7-490b-b045-7f6417ac8be2_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$606/0x000002213d4d8a88
2024-09-23 16:22:40.679 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:22:40.692 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:22:40.696 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:22:40.700 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:22:40.702 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:22:40.714 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:40.714 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:22:41.060 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:22:41.062 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:22:41.076 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2024-09-23 16:22:41.162 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:22:41.188 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.314 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.341 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.343 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.343 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.344 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$764/0x000002213d6a4828] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.345 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.347 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.349 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:41.473 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-09-23 16:22:41.478 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:22:41.478 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:22:41.517 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:22:41.517 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 794 ms
2024-09-23 16:22:41.572 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:22:41.767 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:22:42.237 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:22:42.237 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:22:42.291 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:22:42.315 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:22:42.763 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:22:42.803 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-09-23 16:22:42.805 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:22:42.805 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:22:42.805 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:22:42.809 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:22:42.809 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:22:42.811 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 35b0c457-25aa-4c3d-aa15-68c44f7b3b41
2024-09-23 16:22:42.812 [main] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:22:42.812 [main] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:22:42.813 [main] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:22:42.813 [main] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:22:42.813 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:22:42.934 [main] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079762818_172.17.0.1_46062
2024-09-23 16:22:42.934 [main] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:22:42.934 [main] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$606/0x000002213d4d8a88
2024-09-23 16:22:42.934 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [35b0c457-25aa-4c3d-aa15-68c44f7b3b41] Notify connected event to listeners.
2024-09-23 16:22:42.934 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:22:42.934 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:22:42.941 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8086 register finished
2024-09-23 16:22:43.044 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.704 seconds (process running for 4.154)
2024-09-23 16:22:43.046 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:22:43.047 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:22:43.050 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:22:43.050 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:22:43.050 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:22:43.050 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:22:43.050 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:22:43.051 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:22:43.051 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:22:43.051 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:22:45.641 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 16:22:45.641 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 16:22:45.641 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 16:22:45.641 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 16:22:45.668 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 16:22:45.668 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1864c163[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 16:22:45.671 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727079600109_172.17.0.1_52042
2024-09-23 16:22:45.673 [nacos-grpc-client-executor-127.0.0.1-45] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727079600109_172.17.0.1_52042]Ignore error event,isRunning:false,isAbandon=false
2024-09-23 16:22:45.674 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@4cfde0c9[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 46]
2024-09-23 16:22:45.674 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@78f96e94[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 55]
2024-09-23 16:22:45.674 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 16:22:45.674 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 16:22:45.674 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 16:22:45.680 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:22:45.687 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 16:22:45.692 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 16:22:47.737 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:47.774 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:47.890 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:47.891 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:22:47.891 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:22:47.891 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:22:47.906 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:22:47.906 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:22:47.907 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:22:48.053 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:48.060 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:22:48.062 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0
2024-09-23 16:22:48.072 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x000002322b3675b0
2024-09-23 16:22:48.072 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x000002322b3679d0
2024-09-23 16:22:48.073 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:22:48.073 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:22:48.077 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:22:48.093 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:22:48.694 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079768537_172.17.0.1_52884
2024-09-23 16:22:48.694 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Notify connected event to listeners.
2024-09-23 16:22:48.694 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Connected,notify listen context...
2024-09-23 16:22:48.694 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:22:48.694 [main] INFO  com.alibaba.nacos.common.remote.client - [bfab35df-ac46-4ead-9d98-fa6a4932c910_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x000002322b5051f0
2024-09-23 16:22:48.717 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:22:48.727 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:22:48.730 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:22:48.734 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:22:48.736 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:22:48.748 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:22:48.748 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:22:49.086 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:22:49.088 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:22:49.101 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 16:22:49.198 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:22:49.219 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.351 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.380 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.382 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.383 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.383 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x000002322b6d31b8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.384 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.387 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.387 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:22:49.507 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8087 (http)
2024-09-23 16:22:49.513 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:22:49.514 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:22:49.552 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:22:49.552 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 796 ms
2024-09-23 16:22:49.605 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:22:49.796 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:22:50.248 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:22:50.248 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:22:50.304 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:22:50.327 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:22:50.777 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:22:50.818 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8087 (http) with context path ''
2024-09-23 16:22:50.821 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:22:50.821 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:22:50.822 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:22:50.826 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:22:50.826 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:22:50.828 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 08733a35-89fe-4d67-b559-4f8462598442
2024-09-23 16:22:50.829 [main] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:22:50.829 [main] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:22:50.829 [main] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:22:50.829 [main] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:22:50.829 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:22:50.939 [main] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079770834_172.17.0.1_52890
2024-09-23 16:22:50.939 [main] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:22:50.939 [main] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x000002322b5051f0
2024-09-23 16:22:50.939 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [08733a35-89fe-4d67-b559-4f8462598442] Notify connected event to listeners.
2024-09-23 16:22:50.939 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:22:50.939 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:22:50.946 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8087 register finished
2024-09-23 16:22:51.049 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.697 seconds (process running for 3.976)
2024-09-23 16:22:51.051 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:22:51.051 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:22:51.055 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:22:51.055 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:22:51.055 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:22:51.055 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:22:51.055 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:22:51.056 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:22:51.056 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:22:51.056 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:22:57.946 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 16:22:57.946 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 16:22:57.946 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 16:22:57.946 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 16:22:57.982 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 16:22:57.982 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8088, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 16:22:57.986 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 16:22:57.987 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@fe8de38[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 16:22:57.987 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727079624042_172.17.0.1_44474
2024-09-23 16:22:57.988 [nacos-grpc-client-executor-127.0.0.1-46] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727079624042_172.17.0.1_44474]Ignore error event,isRunning:false,isAbandon=false
2024-09-23 16:22:57.989 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1e42e501[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 47]
2024-09-23 16:22:57.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@63d6f4d8[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 51]
2024-09-23 16:22:57.989 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 16:22:57.989 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 16:22:57.989 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 16:22:57.994 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:22:58.004 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 16:22:58.008 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 16:23:00.026 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:23:00.066 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:23:00.185 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:23:00.186 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:23:00.186 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:23:00.187 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:23:00.201 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:23:00.201 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:23:00.202 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:23:00.348 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:23:00.354 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:23:00.356 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0
2024-09-23 16:23:00.365 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x0000018f01367c18
2024-09-23 16:23:00.365 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x0000018f01368200
2024-09-23 16:23:00.366 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:23:00.366 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:23:00.370 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:23:00.386 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:23:00.932 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079780786_172.17.0.1_51436
2024-09-23 16:23:00.932 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Notify connected event to listeners.
2024-09-23 16:23:00.932 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Connected,notify listen context...
2024-09-23 16:23:00.932 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:23:00.933 [main] INFO  com.alibaba.nacos.common.remote.client - [7af803f3-92a9-4f17-87e2-3547a0ab4313_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000018f015051f0
2024-09-23 16:23:00.955 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:23:00.966 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:23:00.970 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:23:00.974 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:23:00.976 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:23:00.987 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:23:00.987 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:23:01.336 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:23:01.337 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:23:01.349 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 16:23:01.434 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:23:01.453 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.589 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.619 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.620 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.621 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.622 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x0000018f016d2d18] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.623 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.626 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.626 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:23:01.754 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2024-09-23 16:23:01.759 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:23:01.759 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:23:01.797 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:23:01.797 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 802 ms
2024-09-23 16:23:01.851 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:23:02.040 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:23:02.492 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:23:02.492 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:23:02.548 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:23:02.574 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:23:03.029 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:23:03.071 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2024-09-23 16:23:03.073 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:23:03.073 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:23:03.074 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:23:03.077 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:23:03.077 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:23:03.080 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of aafdba4f-a43a-4fd7-8b4c-4009c2509b1f
2024-09-23 16:23:03.081 [main] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:23:03.081 [main] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:23:03.081 [main] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:23:03.081 [main] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:23:03.082 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:23:03.205 [main] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727079783087_172.17.0.1_51442
2024-09-23 16:23:03.205 [main] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:23:03.205 [main] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000018f015051f0
2024-09-23 16:23:03.205 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [aafdba4f-a43a-4fd7-8b4c-4009c2509b1f] Notify connected event to listeners.
2024-09-23 16:23:03.205 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:23:03.206 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8088, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:23:03.214 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8088 register finished
2024-09-23 16:23:03.350 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.684 seconds (process running for 3.968)
2024-09-23 16:23:03.352 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:23:03.352 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:23:03.356 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:23:03.356 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:23:03.356 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:23:03.356 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:23:03.356 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:23:03.356 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:23:03.356 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:23:03.356 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_9] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Unfollow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_11] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Unfollow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_10] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Unfollow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_7] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Follow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Follow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Unfollow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_8] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Follow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_13] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Unfollow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Follow
2024-09-23 16:23:23.189 [ConsumeMessageThread_xiaohashu_group_12] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:23:22"}, tags: Follow
2024-09-23 16:23:23.212 [ConsumeMessageThread_xiaohashu_group_13] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:23:23.212 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:23:23.212 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:23:23.212 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:23:23.212 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:23:23.212 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:23:23.212 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:23:23.214 [ConsumeMessageThread_xiaohashu_group_8] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:23:23.220 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:23:23.225 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:23:23.297 [ConsumeMessageThread_xiaohashu_group_13] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:23:23.297 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:23:23.297 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:23:23.297 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:23:23.297 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:23:23.301 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:23:23.301 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:23:23.301 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:23:23.302 [ConsumeMessageThread_xiaohashu_group_11] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:23:23.316 [ConsumeMessageThread_xiaohashu_group_9] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:23:23.316 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:23:23.318 [ConsumeMessageThread_xiaohashu_group_10] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:23:23.318 [ConsumeMessageThread_xiaohashu_group_7] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:23:22(LocalDateTime)
2024-09-23 16:23:23.318 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:23:22(LocalDateTime)
2024-09-23 16:23:23.318 [ConsumeMessageThread_xiaohashu_group_12] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:23:22(LocalDateTime)
2024-09-23 16:23:23.318 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:23:22(LocalDateTime)
2024-09-23 16:23:23.318 [ConsumeMessageThread_xiaohashu_group_8] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:23:22(LocalDateTime)
2024-09-23 16:23:23.318 [ConsumeMessageThread_xiaohashu_group_13] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:23:23.321 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:23:23.321 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:23:23.321 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:23:22(LocalDateTime)
2024-09-23 16:23:23.323 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:23:23.358 [ConsumeMessageThread_xiaohashu_group_12] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:23:23.358 [ConsumeMessageThread_xiaohashu_group_5] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:23:23.358 [ConsumeMessageThread_xiaohashu_group_8] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:23:23.358 [ConsumeMessageThread_xiaohashu_group_7] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_3] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Follow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_15] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Unfollow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_20] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Follow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_16] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Unfollow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_17] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Follow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_18] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Unfollow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_19] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Follow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Follow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Unfollow
2024-09-23 16:25:42.789 [ConsumeMessageThread_xiaohashu_group_14] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:25:41"}, tags: Unfollow
2024-09-23 16:25:42.791 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:25:42.791 [ConsumeMessageThread_xiaohashu_group_17] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:25:42.791 [ConsumeMessageThread_xiaohashu_group_19] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:25:42.791 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:25:42.791 [ConsumeMessageThread_xiaohashu_group_18] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:25:42.791 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:25:42.791 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_18] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:25:41(LocalDateTime)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:25:41(LocalDateTime)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_17] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:25:41(LocalDateTime)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_19] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:25:41(LocalDateTime)
2024-09-23 16:25:42.792 [ConsumeMessageThread_xiaohashu_group_20] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:25:41(LocalDateTime)
2024-09-23 16:25:42.793 [ConsumeMessageThread_xiaohashu_group_18] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:25:42.793 [ConsumeMessageThread_xiaohashu_group_16] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:25:42.793 [ConsumeMessageThread_xiaohashu_group_15] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:25:42.793 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:25:42.793 [ConsumeMessageThread_xiaohashu_group_14] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:25:42.794 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:25:42.794 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:25:42.794 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:25:41(LocalDateTime)
2024-09-23 16:25:42.796 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:25:42.811 [ConsumeMessageThread_xiaohashu_group_20] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:25:42.811 [ConsumeMessageThread_xiaohashu_group_19] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:25:42.811 [ConsumeMessageThread_xiaohashu_group_2] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:25:42.811 [ConsumeMessageThread_xiaohashu_group_17] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerConcurrently.consumeMessage(DefaultRocketMQListenerContainer.java:421)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageConcurrentlyService$ConsumeRequest.run(ConsumeMessageConcurrentlyService.java:402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:26:51.600 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 16:26:51.600 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 16:26:51.600 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 16:26:51.600 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 16:26:51.632 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 16:26:51.632 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@691a41bb[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 16:26:51.635 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727079762818_172.17.0.1_46062
2024-09-23 16:26:51.637 [nacos-grpc-client-executor-127.0.0.1-62] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727079762818_172.17.0.1_46062]Ignore error event,isRunning:false,isAbandon=false
2024-09-23 16:26:51.638 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@52d8d492[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 63]
2024-09-23 16:26:51.638 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@5d7392a4[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 82]
2024-09-23 16:26:51.638 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 16:26:51.638 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 16:26:51.638 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 16:26:51.641 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:26:51.648 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 16:26:51.652 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 16:26:54.693 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:26:54.729 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:26:54.849 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:26:54.850 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:26:54.850 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:26:54.851 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:26:54.864 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:26:54.864 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:26:54.865 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:26:55.012 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:26:55.018 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:26:55.020 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0
2024-09-23 16:26:55.030 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x00000205e0367608
2024-09-23 16:26:55.030 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x00000205e0367a28
2024-09-23 16:26:55.030 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:26:55.031 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:26:55.035 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:26:55.052 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:26:55.607 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080015454_172.17.0.1_58652
2024-09-23 16:26:55.607 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Notify connected event to listeners.
2024-09-23 16:26:55.608 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Connected,notify listen context...
2024-09-23 16:26:55.608 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:26:55.608 [main] INFO  com.alibaba.nacos.common.remote.client - [42c20d38-0e38-45f8-aa0a-cdaf8bbf241e_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x00000205e0505b50
2024-09-23 16:26:55.631 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:26:55.641 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:26:55.645 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:26:55.649 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:26:55.652 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:26:55.664 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:26:55.664 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:26:56.006 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:26:56.007 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:26:56.019 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 16:26:56.108 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:26:56.135 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.258 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.285 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.287 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.288 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.288 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x00000205e06d3810] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.289 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.292 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.294 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:26:56.420 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-09-23 16:26:56.425 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:26:56.426 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:26:56.464 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:26:56.465 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 792 ms
2024-09-23 16:26:56.517 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:26:56.710 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:26:57.162 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:26:57.162 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:26:57.220 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:26:57.243 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:26:57.698 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:26:57.738 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-09-23 16:26:57.740 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:26:57.740 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:26:57.741 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:26:57.745 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:26:57.745 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:26:57.748 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of aa3beaac-986a-4d6a-8266-d5bbed5a2500
2024-09-23 16:26:57.749 [main] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:26:57.749 [main] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:26:57.749 [main] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:26:57.749 [main] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:26:57.749 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:26:57.858 [main] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080017753_172.17.0.1_58656
2024-09-23 16:26:57.858 [main] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:26:57.858 [main] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x00000205e0505b50
2024-09-23 16:26:57.858 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [aa3beaac-986a-4d6a-8266-d5bbed5a2500] Notify connected event to listeners.
2024-09-23 16:26:57.858 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:26:57.859 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:26:57.866 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8086 register finished
2024-09-23 16:26:57.966 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.647 seconds (process running for 3.926)
2024-09-23 16:26:57.968 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:26:57.969 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:26:57.972 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:26:57.973 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:26:57.973 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:26:57.973 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:26:57.973 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:26:57.973 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:26:57.973 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:26:57.973 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:27:00.077 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 16:27:00.079 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 16:27:00.079 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 16:27:00.079 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 16:27:00.104 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 16:27:00.104 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 16:27:00.107 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@71c2fa28[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 16:27:00.108 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727079770834_172.17.0.1_52890
2024-09-23 16:27:00.109 [nacos-grpc-client-executor-127.0.0.1-61] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727079770834_172.17.0.1_52890]Ignore error event,isRunning:false,isAbandon=false
2024-09-23 16:27:00.110 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@3b6518a2[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 62]
2024-09-23 16:27:00.110 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4292d665[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 83]
2024-09-23 16:27:00.110 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 16:27:00.110 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 16:27:00.110 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 16:27:00.113 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:27:00.231 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 16:27:00.235 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 16:27:02.350 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 16:27:02.350 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 16:27:02.350 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 16:27:02.351 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 16:27:02.377 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 16:27:02.377 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8088, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 16:27:02.379 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@5dfc41ac[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 16:27:02.380 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727079783087_172.17.0.1_51442
2024-09-23 16:27:02.382 [nacos-grpc-client-executor-127.0.0.1-59] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727079783087_172.17.0.1_51442]Ignore error event,isRunning:false,isAbandon=false
2024-09-23 16:27:02.382 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1a34b339[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 60]
2024-09-23 16:27:02.382 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2f3ef67e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 79]
2024-09-23 16:27:02.383 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 16:27:02.383 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 16:27:02.383 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 16:27:02.386 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:27:02.393 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 16:27:02.396 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 16:27:18.508 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Unfollow
2024-09-23 16:27:18.526 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:27:18.609 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:27:18.613 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:27:18.613 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:27:18.613 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:27:18.615 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:27:19.012 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Unfollow
2024-09-23 16:27:19.013 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:27:19.013 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:27:19.014 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:27:19.016 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Follow
2024-09-23 16:27:19.018 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.068 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.072 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:27:19.072 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.072 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.073 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:27:19.107 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Unfollow
2024-09-23 16:27:19.108 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:27:19.108 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:27:19.110 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:27:19.110 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:27:19.110 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:27:19.111 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:27:19.123 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Follow
2024-09-23 16:27:19.124 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.124 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.125 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:27:19.125 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.126 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.127 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:27:19.137 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Follow
2024-09-23 16:27:19.138 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.138 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.162 [ConsumeMessageThread_xiaohashu_group_1] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:27:19.171 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Follow
2024-09-23 16:27:19.171 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.172 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.173 [ConsumeMessageThread_xiaohashu_group_1] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy121.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:27:19.181 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Unfollow
2024-09-23 16:27:19.182 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:27:19.182 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:27:19.184 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:27:19.184 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:27:19.184 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:27:19.186 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:27:19.200 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Follow
2024-09-23 16:27:19.202 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.202 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.203 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:27:19.203 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:27:19.203 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:27:15(LocalDateTime)
2024-09-23 16:27:19.204 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:27:19.218 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:27:15"}, tags: Unfollow
2024-09-23 16:27:19.219 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:27:19.219 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:27:19.220 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:27:19.220 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:27:19.221 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:27:19.222 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:28:11.242 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 16:28:11.242 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 16:28:11.242 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 16:28:11.242 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 16:28:11.272 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 16:28:11.272 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@63477db[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 16:28:11.276 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727080017753_172.17.0.1_58656
2024-09-23 16:28:11.278 [nacos-grpc-client-executor-127.0.0.1-25] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727080017753_172.17.0.1_58656]Ignore error event,isRunning:false,isAbandon=false
2024-09-23 16:28:11.279 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@6e501ccd[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 26]
2024-09-23 16:28:11.280 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@5aa81523[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 24]
2024-09-23 16:28:11.280 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 16:28:11.280 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 16:28:11.280 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 16:28:11.283 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:28:11.399 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 16:28:11.404 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 16:28:13.413 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:28:13.452 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:28:13.576 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:28:13.577 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:28:13.577 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:28:13.578 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:28:13.592 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:28:13.592 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:28:13.594 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:28:13.740 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:28:13.748 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:28:13.749 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 1836dbae-c4c9-46b5-8082-6f07318df815_config-0
2024-09-23 16:28:13.758 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x0000020ca1367ca8
2024-09-23 16:28:13.759 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x0000020ca1368200
2024-09-23 16:28:13.759 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:28:13.759 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:28:13.764 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:28:13.780 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:28:14.333 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080094176_172.17.0.1_60108
2024-09-23 16:28:14.333 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Notify connected event to listeners.
2024-09-23 16:28:14.333 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Connected,notify listen context...
2024-09-23 16:28:14.333 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:28:14.334 [main] INFO  com.alibaba.nacos.common.remote.client - [1836dbae-c4c9-46b5-8082-6f07318df815_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000020ca15051f0
2024-09-23 16:28:14.355 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:28:14.367 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:28:14.371 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:28:14.374 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:28:14.377 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:28:14.388 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:28:14.389 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:28:14.726 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:28:14.729 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:28:14.740 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 16:28:14.829 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:28:14.847 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:14.975 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.003 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.005 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.006 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.007 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x0000020ca16d2d18] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.007 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.010 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.011 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:28:15.130 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2024-09-23 16:28:15.137 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:28:15.137 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:28:15.175 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:28:15.175 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 778 ms
2024-09-23 16:28:15.228 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:28:15.412 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:28:15.864 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:28:15.864 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:28:15.918 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:28:15.942 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:28:16.394 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:28:16.441 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2024-09-23 16:28:16.443 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:28:16.444 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:28:16.444 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:28:16.448 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:28:16.448 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:28:16.451 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of deb2b1e1-15b5-4b94-bc92-0017a6cbb360
2024-09-23 16:28:16.452 [main] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:28:16.452 [main] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:28:16.452 [main] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:28:16.453 [main] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:28:16.453 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:28:16.573 [main] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080096456_172.17.0.1_60110
2024-09-23 16:28:16.573 [main] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:28:16.573 [main] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000020ca15051f0
2024-09-23 16:28:16.573 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [deb2b1e1-15b5-4b94-bc92-0017a6cbb360] Notify connected event to listeners.
2024-09-23 16:28:16.573 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:28:16.574 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:28:16.580 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8086 register finished
2024-09-23 16:28:16.685 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.64 seconds (process running for 3.905)
2024-09-23 16:28:16.688 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:28:16.688 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:28:16.692 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:28:16.692 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:28:16.692 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:28:16.692 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:28:16.692 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:28:16.693 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:28:16.693 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:28:16.693 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:29:33.035 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:29:33.072 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:29:33.200 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:29:33.201 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:29:33.201 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:29:33.202 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:29:33.216 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:29:33.216 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:29:33.218 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:29:33.363 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:29:33.370 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:29:33.372 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0
2024-09-23 16:29:33.381 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x0000027d473683f0
2024-09-23 16:29:33.382 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x0000027d47368810
2024-09-23 16:29:33.382 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:29:33.382 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:29:33.386 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:29:33.402 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:29:33.961 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080173803_172.17.0.1_45126
2024-09-23 16:29:33.961 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Notify connected event to listeners.
2024-09-23 16:29:33.961 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Connected,notify listen context...
2024-09-23 16:29:33.961 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:29:33.962 [main] INFO  com.alibaba.nacos.common.remote.client - [540fcbcb-cbcc-473f-883e-574d2181b5a7_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000027d475077b8
2024-09-23 16:29:33.984 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:29:33.994 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:29:33.998 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:29:34.001 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:29:34.003 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:29:34.014 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:29:34.015 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:29:34.347 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:29:34.350 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:29:34.362 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 16:29:34.447 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:29:34.464 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.592 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.620 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.621 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.622 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.623 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x0000027d476d31b8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.624 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.627 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.627 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:29:34.746 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8087 (http)
2024-09-23 16:29:34.752 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:29:34.752 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:29:34.789 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:29:34.789 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 766 ms
2024-09-23 16:29:34.841 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:29:35.027 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:29:35.472 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:29:35.472 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:29:35.529 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:29:35.554 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:29:36.000 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:29:36.040 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8087 (http) with context path ''
2024-09-23 16:29:36.043 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:29:36.043 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:29:36.043 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:29:36.048 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:29:36.048 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:29:36.050 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of c1c52dac-8a59-4644-808e-204e23320e17
2024-09-23 16:29:36.051 [main] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:29:36.051 [main] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:29:36.051 [main] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:29:36.052 [main] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:29:36.052 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:29:36.162 [main] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080176056_172.17.0.1_45134
2024-09-23 16:29:36.162 [main] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:29:36.162 [main] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000027d475077b8
2024-09-23 16:29:36.162 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [c1c52dac-8a59-4644-808e-204e23320e17] Notify connected event to listeners.
2024-09-23 16:29:36.162 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:29:36.163 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:29:36.170 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8087 register finished
2024-09-23 16:29:36.273 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.604 seconds (process running for 3.875)
2024-09-23 16:29:36.275 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:29:36.275 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:29:36.280 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:29:36.280 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:29:36.280 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:29:36.280 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:29:36.280 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:29:36.280 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:29:36.280 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:29:36.280 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:29:55.717 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Follow
2024-09-23 16:29:55.741 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:55.864 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:55.869 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:29:55.869 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:55.870 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:55.871 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:29:56.032 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Follow
2024-09-23 16:29:56.033 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:56.034 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:56.056 [ConsumeMessageThread_xiaohashu_group_1] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:29:56.063 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Unfollow
2024-09-23 16:29:56.065 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:29:56.070 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:29:56.072 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:29:56.072 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:29:56.072 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:29:56.074 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:29:56.089 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Unfollow
2024-09-23 16:29:56.090 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:29:56.090 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:29:56.092 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:29:56.094 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Unfollow
2024-09-23 16:29:56.095 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:29:56.095 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:29:56.096 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 16:29:56.099 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Follow
2024-09-23 16:29:56.100 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:56.100 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:56.102 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:29:56.102 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:56.102 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:56.103 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:29:56.117 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Unfollow
2024-09-23 16:29:56.118 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:29:56.118 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:29:56.119 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:29:56.119 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:29:56.120 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:29:56.121 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:29:56.130 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Follow
2024-09-23 16:29:56.131 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:56.131 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:56.133 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:29:56.133 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:56.134 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:56.135 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:29:56.146 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Follow
2024-09-23 16:29:56.147 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:29:56.147 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:29:55(LocalDateTime)
2024-09-23 16:29:56.149 [ConsumeMessageThread_xiaohashu_group_1] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:29:56.153 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:29:55"}, tags: Unfollow
2024-09-23 16:29:56.153 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:29:56.154 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:29:56.155 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:29:56.155 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:29:56.155 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:29:56.156 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:36:26.347 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Follow
2024-09-23 16:36:26.349 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.349 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.351 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.352 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.352 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.354 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.369 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Unfollow
2024-09-23 16:36:26.370 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:36:26.371 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:36:26.372 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:36:26.372 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:36:26.373 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:36:26.374 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:36:26.388 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Follow
2024-09-23 16:36:26.389 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.389 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.391 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.391 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.391 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.392 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.405 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Unfollow
2024-09-23 16:36:26.405 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:36:26.406 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:36:26.407 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:36:26.407 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:36:26.407 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:36:26.409 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:36:26.420 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Follow
2024-09-23 16:36:26.421 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.421 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.423 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.423 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.423 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.424 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.436 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Unfollow
2024-09-23 16:36:26.437 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:36:26.438 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:36:26.439 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:36:26.439 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:36:26.439 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:36:26.440 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:36:26.452 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Follow
2024-09-23 16:36:26.453 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.453 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.454 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.455 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.455 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.456 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.468 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Unfollow
2024-09-23 16:36:26.468 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:36:26.469 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:36:26.470 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:36:26.470 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:36:26.470 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:36:26.472 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:36:26.485 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Follow
2024-09-23 16:36:26.485 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.486 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.487 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.487 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:36:26.488 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:36:26(LocalDateTime)
2024-09-23 16:36:26.489 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:36:26.499 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:36:26"}, tags: Unfollow
2024-09-23 16:36:26.500 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:36:26.500 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:36:26.501 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:36:26.501 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:36:26.501 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:36:26.502 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:39:33.950 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:39:33.988 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:39:34.111 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:39:34.112 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 16:39:34.112 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 16:39:34.112 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 16:39:34.126 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:39:34.126 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:39:34.127 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 16:39:34.283 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:39:34.290 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 16:39:34.292 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 22cfc47a-7555-417c-8962-7e9226120af8_config-0
2024-09-23 16:39:34.301 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x0000016ddd3677b0
2024-09-23 16:39:34.301 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x0000016ddd367bd0
2024-09-23 16:39:34.301 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 16:39:34.301 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 16:39:34.306 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:39:34.324 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:39:34.883 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080774732_172.17.0.1_34938
2024-09-23 16:39:34.884 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Notify connected event to listeners.
2024-09-23 16:39:34.884 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Connected,notify listen context...
2024-09-23 16:39:34.884 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:39:34.884 [main] INFO  com.alibaba.nacos.common.remote.client - [22cfc47a-7555-417c-8962-7e9226120af8_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000016ddd4d3d18
2024-09-23 16:39:34.907 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 16:39:34.918 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 16:39:34.921 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 16:39:34.926 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 16:39:34.928 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 16:39:34.940 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 16:39:34.940 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 16:39:35.291 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 16:39:35.292 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 16:39:35.305 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 16:39:35.403 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 16:39:35.423 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.555 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.587 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.588 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.589 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.590 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x0000016ddd6a16c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.590 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.594 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.594 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 16:39:35.748 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2024-09-23 16:39:35.755 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 16:39:35.755 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 16:39:35.806 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 16:39:35.807 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 859 ms
2024-09-23 16:39:35.889 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 16:39:36.176 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 16:39:36.766 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 16:39:36.766 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 16:39:36.822 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 16:39:36.847 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 16:39:37.301 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 16:39:37.343 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2024-09-23 16:39:37.345 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 16:39:37.346 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 16:39:37.346 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 16:39:37.351 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 16:39:37.351 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 16:39:37.353 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 19c7db14-7200-4076-9778-fb96aaa072e9
2024-09-23 16:39:37.354 [main] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 16:39:37.354 [main] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 16:39:37.354 [main] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 16:39:37.354 [main] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 16:39:37.354 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 16:39:37.480 [main] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727080777362_172.17.0.1_34946
2024-09-23 16:39:37.480 [main] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 16:39:37.480 [main] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x0000016ddd4d3d18
2024-09-23 16:39:37.480 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [19c7db14-7200-4076-9778-fb96aaa072e9] Notify connected event to listeners.
2024-09-23 16:39:37.480 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 16:39:37.480 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8088, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 16:39:37.487 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8088 register finished
2024-09-23 16:39:37.595 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 4.013 seconds (process running for 4.299)
2024-09-23 16:39:37.597 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 16:39:37.597 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:39:37.602 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:39:37.602 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 16:39:37.602 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 16:39:37.602 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:39:37.602 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 16:39:37.603 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 16:39:37.603 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 16:39:37.603 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 16:43:07.369 [ConsumeMessageThread_xiaohashu_group_3] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:43:07"}, tags: Follow
2024-09-23 16:43:07.372 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.373 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.373 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:43:07"}, tags: Follow
2024-09-23 16:43:07.374 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:43:07"}, tags: Unfollow
2024-09-23 16:43:07.374 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:43:07.375 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.375 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.377 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:43:07.392 [ConsumeMessageThread_xiaohashu_group_3] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:43:07"}, tags: Follow
2024-09-23 16:43:07.394 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.394 [ConsumeMessageThread_xiaohashu_group_3] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.396 [ConsumeMessageThread_xiaohashu_group_3] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:43:07.400 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.402 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:43:07.486 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:43:07.490 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:43:07.491 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:43:07.492 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:43:07.495 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:43:07.544 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.550 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:43:07.550 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.551 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.553 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:43:07.666 [ConsumeMessageThread_xiaohashu_group_1] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:43:07"}, tags: Unfollow
2024-09-23 16:43:07.667 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:43:07.668 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:43:07.669 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:43:07.670 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:43:07.670 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:43:07.671 [ConsumeMessageThread_xiaohashu_group_1] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:43:07.749 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:43:07"}, tags: Follow
2024-09-23 16:43:07.750 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.751 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.752 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:43:07.752 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.753 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.754 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:43:07.767 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:43:07"}, tags: Follow
2024-09-23 16:43:07.768 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:43:07.769 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:43:07(LocalDateTime)
2024-09-23 16:43:07.792 [ConsumeMessageThread_xiaohashu_group_2] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:46:18.112 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Follow
2024-09-23 16:46:18.114 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.115 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.116 [ConsumeMessageThread_xiaohashu_group_4] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '27-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 16:46:18.121 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Unfollow
2024-09-23 16:46:18.123 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:46:18.128 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:46:18.131 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:46:18.131 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:46:18.131 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:46:18.132 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:46:18.147 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Follow
2024-09-23 16:46:18.147 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.148 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.149 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.149 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.150 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.151 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.163 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Unfollow
2024-09-23 16:46:18.164 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:46:18.165 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:46:18.166 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:46:18.166 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:46:18.166 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:46:18.167 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:46:18.252 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Follow
2024-09-23 16:46:18.254 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.254 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.255 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.255 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.255 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.257 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.277 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Unfollow
2024-09-23 16:46:18.278 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:46:18.278 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:46:18.281 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:46:18.281 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:46:18.281 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:46:18.283 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:46:18.294 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Follow
2024-09-23 16:46:18.295 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.296 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.297 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.297 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.298 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.299 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.310 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Unfollow
2024-09-23 16:46:18.311 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:46:18.311 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:46:18.313 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:46:18.313 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:46:18.314 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:46:18.315 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 16:46:18.323 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"followUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Follow
2024-09-23 16:46:18.324 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.324 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 27(Long), 100(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.325 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.325 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 16:46:18.325 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 27(Long), 2024-09-23T16:46:11(LocalDateTime)
2024-09-23 16:46:18.327 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 16:46:18.341 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":27,"unfollowUserId":100,"createTime":"2024-09-23 16:46:11"}, tags: Unfollow
2024-09-23 16:46:18.342 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 16:46:18.342 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 27(Long), 100(Long)
2024-09-23 16:46:18.344 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 16:46:18.344 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 16:46:18.344 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 27(Long)
2024-09-23 16:46:18.345 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:28:43.191 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Follow
2024-09-23 19:28:43.191 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Unfollow
2024-09-23 19:28:43.216 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:28:43.217 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.219 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:28:43.220 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.226 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 0
2024-09-23 19:28:43.228 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.230 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.231 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.232 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Unfollow
2024-09-23 19:28:43.233 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:28:43.233 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.233 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:28:43.245 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:28:43.245 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:28:43.245 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:28:43.247 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:28:43.252 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Follow
2024-09-23 19:28:43.253 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.253 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.260 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.260 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.260 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.261 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Unfollow
2024-09-23 19:28:43.261 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.262 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:28:43.262 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:28:43.270 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:28:43.270 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:28:43.270 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:28:43.271 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:28:43.272 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Follow
2024-09-23 19:28:43.273 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.273 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.280 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.281 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.281 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.282 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Unfollow
2024-09-23 19:28:43.282 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.282 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:28:43.283 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:28:43.291 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:28:43.291 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:28:43.291 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:28:43.292 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:28:43.293 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Follow
2024-09-23 19:28:43.294 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.294 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.311 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.311 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.311 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.312 [ConsumeMessageThread_xiaohashu_group_4] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Unfollow
2024-09-23 19:28:43.312 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.313 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:28:43.313 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:28:43.323 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:28:43.323 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:28:43.323 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:28:43.325 [ConsumeMessageThread_xiaohashu_group_4] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:28:43.325 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:28:43"}, tags: Follow
2024-09-23 19:28:43.326 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.326 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.339 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:28:43.339 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:28:43.339 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:28:43(LocalDateTime)
2024-09-23 19:28:43.340 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:29:15.130 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 19:29:15.130 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 19:29:15.131 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 19:29:15.133 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 19:29:15.182 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 19:29:15.182 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8088, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 19:29:15.186 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 19:29:15.186 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 19:29:15.186 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 19:29:15.186 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 19:29:15.186 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 19:29:15.186 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@633bfde4[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 19:29:15.187 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727080777362_172.17.0.1_34946
2024-09-23 19:29:15.189 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1559ea8e[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 2059]
2024-09-23 19:29:15.189 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@782fdff2[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 3388]
2024-09-23 19:29:15.189 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 19:29:15.189 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 19:29:15.189 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 19:29:15.194 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 19:29:15.337 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 19:29:15.338 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 19:29:17.845 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 19:29:17.845 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 19:29:17.848 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 19:29:17.850 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 19:29:17.910 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 19:29:17.911 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 19:29:17.916 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@7523513c[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 19:29:17.917 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727080176056_172.17.0.1_45134
2024-09-23 19:29:17.919 [nacos-grpc-client-executor-127.0.0.1-2168] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727080176056_172.17.0.1_45134]Ignore complete event,isRunning:false,isAbandon=false
2024-09-23 19:29:17.923 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@118e1a44[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 2169]
2024-09-23 19:29:17.923 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4f828f77[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 3590]
2024-09-23 19:29:17.923 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 19:29:17.923 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 19:29:17.923 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 19:29:17.929 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 19:29:18.057 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 19:29:18.058 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 19:29:45.864 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:29:45.901 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:29:46.018 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:29:46.019 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 19:29:46.019 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 19:29:46.020 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 19:29:46.035 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 19:29:46.035 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 19:29:46.037 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 19:29:46.182 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:29:46.188 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 19:29:46.190 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0
2024-09-23 19:29:46.199 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x000001bcf83677b0
2024-09-23 19:29:46.200 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x000001bcf8367bd0
2024-09-23 19:29:46.200 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 19:29:46.200 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 19:29:46.204 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 19:29:46.221 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 19:29:46.779 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727090986623_172.17.0.1_42062
2024-09-23 19:29:46.779 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Notify connected event to listeners.
2024-09-23 19:29:46.779 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Connected,notify listen context...
2024-09-23 19:29:46.779 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 19:29:46.779 [main] INFO  com.alibaba.nacos.common.remote.client - [51a6a045-a3b2-4fb3-b25c-0075337c4762_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x000001bcf8504890
2024-09-23 19:29:46.802 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 19:29:46.813 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 19:29:46.816 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 19:29:46.822 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 19:29:46.824 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 19:29:46.836 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:29:46.836 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 19:29:47.175 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 19:29:47.177 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 19:29:47.190 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 19:29:47.282 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 19:29:47.301 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.425 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.455 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.457 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.458 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.458 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x000001bcf86d1d80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.459 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.462 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.464 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:29:47.585 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8087 (http)
2024-09-23 19:29:47.590 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 19:29:47.590 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 19:29:47.628 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 19:29:47.629 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 785 ms
2024-09-23 19:29:47.681 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 19:29:47.868 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 19:29:48.333 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 19:29:48.334 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 19:29:48.389 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 19:29:48.416 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 19:29:48.865 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 19:29:48.908 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8087 (http) with context path ''
2024-09-23 19:29:48.910 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 19:29:48.910 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 19:29:48.910 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 19:29:48.914 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 19:29:48.914 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 19:29:48.916 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 9021a1bf-6786-4ab2-b1e7-4b3c14c956a9
2024-09-23 19:29:48.917 [main] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 19:29:48.917 [main] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 19:29:48.917 [main] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 19:29:48.918 [main] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 19:29:48.918 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 19:29:49.027 [main] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727090988923_172.17.0.1_36124
2024-09-23 19:29:49.027 [main] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 19:29:49.027 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] Notify connected event to listeners.
2024-09-23 19:29:49.027 [main] INFO  com.alibaba.nacos.common.remote.client - [9021a1bf-6786-4ab2-b1e7-4b3c14c956a9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x000001bcf8504890
2024-09-23 19:29:49.027 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 19:29:49.027 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 19:29:49.035 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8087 register finished
2024-09-23 19:29:49.141 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.64 seconds (process running for 3.921)
2024-09-23 19:29:49.143 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 19:29:49.143 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 19:29:49.148 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:29:49.148 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 19:29:49.148 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 19:29:49.148 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:29:49.148 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 19:29:49.148 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 19:29:49.148 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:29:49.148 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 19:30:24.728 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-09-23 19:30:24.728 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-09-23 19:30:24.728 [Thread-9] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-09-23 19:30:24.728 [Thread-2] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-09-23 19:30:24.752 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2024-09-23 19:30:24.752 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user-relation with instance: Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@40663f92[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-09-23 19:30:24.756 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1727090988923_172.17.0.1_36124
2024-09-23 19:30:24.758 [nacos-grpc-client-executor-127.0.0.1-15] WARN  c.a.nacos.common.remote.client.grpc.GrpcClient - [1727090988923_172.17.0.1_36124]Ignore error event,isRunning:false,isAbandon=false
2024-09-23 19:30:24.759 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@58669be3[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 16]
2024-09-23 19:30:24.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4407cfd6[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 11]
2024-09-23 19:30:24.759 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-09-23 19:30:24.759 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-09-23 19:30:24.759 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-09-23 19:30:24.762 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 19:30:24.771 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-09-23 19:30:24.775 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-09-23 19:30:27.376 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:30:27.412 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:30:27.531 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:30:27.532 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 19:30:27.532 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 19:30:27.533 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 19:30:27.547 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 19:30:27.547 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 19:30:27.548 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 19:30:27.693 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:30:27.700 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 19:30:27.703 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 94696337-4430-424f-b259-58f98bd65e32_config-0
2024-09-23 19:30:27.712 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x0000029731367400
2024-09-23 19:30:27.712 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x0000029731367820
2024-09-23 19:30:27.712 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 19:30:27.712 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 19:30:27.716 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 19:30:27.733 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 19:30:28.287 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727091028128_172.17.0.1_59958
2024-09-23 19:30:28.288 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Notify connected event to listeners.
2024-09-23 19:30:28.288 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [94696337-4430-424f-b259-58f98bd65e32_config-0] Connected,notify listen context...
2024-09-23 19:30:28.288 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 19:30:28.288 [main] INFO  com.alibaba.nacos.common.remote.client - [94696337-4430-424f-b259-58f98bd65e32_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x00000297314d4890
2024-09-23 19:30:28.308 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 19:30:28.350 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 19:30:28.445 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 19:30:28.452 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 19:30:28.455 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 19:30:28.466 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:30:28.467 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 19:30:28.815 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 19:30:28.816 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 19:30:28.827 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 19:30:28.917 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 19:30:28.935 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.063 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.092 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.094 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.095 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.095 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x00000297316a1d80] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.095 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.098 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.099 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:30:29.220 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8087 (http)
2024-09-23 19:30:29.225 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 19:30:29.225 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 19:30:29.263 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 19:30:29.263 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 789 ms
2024-09-23 19:30:29.316 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 19:30:29.503 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 19:30:29.960 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 19:30:29.960 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 19:30:30.015 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 19:30:30.039 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 19:30:30.496 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 19:30:30.536 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8087 (http) with context path ''
2024-09-23 19:30:30.538 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 19:30:30.538 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 19:30:30.538 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 19:30:30.543 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 19:30:30.543 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 19:30:30.546 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of e213f14d-c2a3-4fc7-b397-96a2a43343d0
2024-09-23 19:30:30.547 [main] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 19:30:30.547 [main] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 19:30:30.547 [main] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 19:30:30.547 [main] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 19:30:30.547 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 19:30:30.726 [main] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727091030609_172.17.0.1_55234
2024-09-23 19:30:30.726 [main] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 19:30:30.726 [main] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x00000297314d4890
2024-09-23 19:30:30.726 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [e213f14d-c2a3-4fc7-b397-96a2a43343d0] Notify connected event to listeners.
2024-09-23 19:30:30.726 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 19:30:30.727 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8087, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 19:30:30.734 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8087 register finished
2024-09-23 19:30:30.836 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.854 seconds (process running for 4.132)
2024-09-23 19:30:30.838 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 19:30:30.838 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 19:30:30.842 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:30:30.842 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 19:30:30.842 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 19:30:30.842 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:30:30.842 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 19:30:30.843 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 19:30:30.843 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:30:30.843 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 19:30:46.976 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:30:46"}, tags: Follow
2024-09-23 19:30:46.978 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:30:46.979 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:30:46(LocalDateTime)
2024-09-23 19:30:46.981 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:30:46.981 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:30:46.982 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:30:46(LocalDateTime)
2024-09-23 19:30:46.983 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:30:47.002 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:30:46"}, tags: Follow
2024-09-23 19:30:47.003 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:30:47.003 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:30:46(LocalDateTime)
2024-09-23 19:30:47.005 [ConsumeMessageThread_xiaohashu_group_5] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 19:30:47.013 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:30:46"}, tags: Follow
2024-09-23 19:30:47.014 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:30:47.014 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:30:46(LocalDateTime)
2024-09-23 19:30:47.016 [ConsumeMessageThread_xiaohashu_group_5] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 19:30:47.025 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:30:46"}, tags: Follow
2024-09-23 19:30:47.027 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:30:47.030 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:30:46(LocalDateTime)
2024-09-23 19:30:47.035 [ConsumeMessageThread_xiaohashu_group_5] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 19:30:47.041 [ConsumeMessageThread_xiaohashu_group_5] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:30:46"}, tags: Follow
2024-09-23 19:30:47.042 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:30:47.042 [ConsumeMessageThread_xiaohashu_group_5] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:30:46(LocalDateTime)
2024-09-23 19:30:47.045 [ConsumeMessageThread_xiaohashu_group_5] ERROR c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-15.5节\xiaohashu2\xiaohashu-user-relation\xiaohashu-user-relation-biz\target\classes\mapper\FollowingDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.relation.biz.domain.mapper.FollowingDOMapper.insert-Inline
### The error occurred while setting parameters
### SQL: insert into t_following (id, user_id, following_user_id,        create_time)     values (?, ?, ?,        ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
; Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy92.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy93.insert(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.lambda$handleFollowTagMessage$0(FollowUnfollowConsumer.java:98)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.handleFollowTagMessage(FollowUnfollowConsumer.java:94)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:70)
	at com.quanxiaoha.xiaohashu.user.relation.biz.consumer.FollowUnfollowConsumer.onMessage(FollowUnfollowConsumer.java:37)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.handleMessage(DefaultRocketMQListenerContainer.java:461)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.access$100(DefaultRocketMQListenerContainer.java:71)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer$DefaultMessageListenerOrderly.consumeMessage(DefaultRocketMQListenerContainer.java:444)
	at org.apache.rocketmq.client.impl.consumer.ConsumeMessageOrderlyService$ConsumeRequest.run(ConsumeMessageOrderlyService.java:498)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '28-100' for key 't_following.uk_user_id_following_user_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1063)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy120.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 20 common frames omitted
2024-09-23 19:33:36.349 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:33:36.385 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:33:36.509 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:33:36.510 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-09-23 19:33:36.510 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-09-23 19:33:36.511 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-09-23 19:33:36.526 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 19:33:36.526 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 19:33:36.527 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-09-23 19:33:36.680 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:33:36.686 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\Administrator\nacos\config
2024-09-23 19:33:36.688 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0
2024-09-23 19:33:36.697 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$572/0x00000248653675a8
2024-09-23 19:33:36.697 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$573/0x00000248653679c8
2024-09-23 19:33:36.697 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-09-23 19:33:36.697 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-09-23 19:33:36.702 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 19:33:36.718 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 19:33:37.305 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727091217151_172.17.0.1_36408
2024-09-23 19:33:37.305 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Notify connected event to listeners.
2024-09-23 19:33:37.305 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Connected,notify listen context...
2024-09-23 19:33:37.305 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 19:33:37.305 [main] INFO  com.alibaba.nacos.common.remote.client - [84f2815e-1cb9-4e23-85e9-e2c46ce2b710_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x00000248654d51f0
2024-09-23 19:33:37.328 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-09-23 19:33:37.379 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation] & group[DEFAULT_GROUP]
2024-09-23 19:33:37.383 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[xiaohashu-user-relation.yaml] & group[DEFAULT_GROUP]
2024-09-23 19:33:37.388 [main] INFO  com.alibaba.nacos.client.config.utils.JvmUtil - isMultiInstance:false
2024-09-23 19:33:37.390 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation-dev.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-xiaohashu-user-relation,DEFAULT_GROUP'}]
2024-09-23 19:33:37.402 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2024-09-23 19:33:37.403 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - The following 1 profile is active: "dev"
2024-09-23 19:33:37.752 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-09-23 19:33:37.754 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-09-23 19:33:37.766 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-09-23 19:33:37.856 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4e3205ab-39ef-38fe-b862-8cdb7e892169
2024-09-23 19:33:37.876 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.006 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.036 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.037 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.038 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.038 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$763/0x00000248656a2ac8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.039 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.041 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.042 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-09-23 19:33:38.170 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2024-09-23 19:33:38.177 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-09-23 19:33:38.177 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-09-23 19:33:38.221 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-09-23 19:33:38.221 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 810 ms
2024-09-23 19:33:38.280 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-09-23 19:33:38.483 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-09-23 19:33:38.950 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group', namespace='', nameServer='127.0.0.1:9876', topic='FollowUnfollowTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2024-09-23 19:33:38.950 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:followUnfollowConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2024-09-23 19:33:39.006 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2024-09-23 19:33:39.029 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2024-09-23 19:33:39.493 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-09-23 19:33:39.536 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2024-09-23 19:33:39.538 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-09-23 19:33:39.538 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-09-23 19:33:39.540 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-09-23 19:33:39.544 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-09-23 19:33:39.545 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-09-23 19:33:39.547 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 6240d7fa-c53e-463a-9661-fdd2f3c433cb
2024-09-23 19:33:39.550 [main] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-09-23 19:33:39.550 [main] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-09-23 19:33:39.550 [main] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-09-23 19:33:39.550 [main] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2024-09-23 19:33:39.550 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-09-23 19:33:39.667 [main] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1727091219558_172.17.0.1_32924
2024-09-23 19:33:39.667 [main] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-09-23 19:33:39.667 [main] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$605/0x00000248654d51f0
2024-09-23 19:33:39.667 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [6240d7fa-c53e-463a-9661-fdd2f3c433cb] Notify connected event to listeners.
2024-09-23 19:33:39.667 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-09-23 19:33:39.667 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user-relation with instance Instance{instanceId='null', ip='192.168.1.3', port=8088, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:472:c000:6aa3:7f73:9b30:2fd0], preserved.register.source=SPRING_CLOUD}}
2024-09-23 19:33:39.674 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user-relation 192.168.1.3:8088 register finished
2024-09-23 19:33:39.780 [main] INFO  c.q.x.u.r.biz.XiaohashuUserRelationBizApplication - Started XiaohashuUserRelationBizApplication in 3.813 seconds (process running for 4.093)
2024-09-23 19:33:39.783 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-09-23 19:33:39.783 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 19:33:39.786 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:33:39.786 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation.yaml, group=DEFAULT_GROUP
2024-09-23 19:33:39.786 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation+DEFAULT_GROUP+xiaohashu
2024-09-23 19:33:39.786 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:33:39.786 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation, group=DEFAULT_GROUP
2024-09-23 19:33:39.787 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-xiaohashu-127.0.0.1_8848] [subscribe] xiaohashu-user-relation-dev.yaml+DEFAULT_GROUP+xiaohashu
2024-09-23 19:33:39.787 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-xiaohashu-127.0.0.1_8848] [add-listener] ok, tenant=xiaohashu, dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP, cnt=1
2024-09-23 19:33:39.787 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=xiaohashu-user-relation-dev.yaml, group=DEFAULT_GROUP
2024-09-23 19:33:59.014 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:33:58"}, tags: Follow
2024-09-23 19:33:59.017 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.017 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:33:58(LocalDateTime)
2024-09-23 19:33:59.020 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.020 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.020 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:33:58(LocalDateTime)
2024-09-23 19:33:59.021 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.037 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:33:58"}, tags: Unfollow
2024-09-23 19:33:59.039 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:33:59.040 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:33:59.041 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:33:59.041 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:33:59.041 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:33:59.043 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:33:59.058 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Follow
2024-09-23 19:33:59.059 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.059 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.069 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.069 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.069 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.070 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.096 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Unfollow
2024-09-23 19:33:59.097 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:33:59.097 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:33:59.098 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:33:59.098 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:33:59.098 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:33:59.099 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:33:59.154 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Follow
2024-09-23 19:33:59.155 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.156 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.157 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.157 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.157 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.158 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.169 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Unfollow
2024-09-23 19:33:59.170 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:33:59.170 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:33:59.171 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:33:59.171 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:33:59.172 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:33:59.173 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:33:59.183 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Follow
2024-09-23 19:33:59.185 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.185 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.187 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.187 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.187 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.188 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.198 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Unfollow
2024-09-23 19:33:59.199 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:33:59.199 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:33:59.201 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:33:59.201 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:33:59.201 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:33:59.203 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:33:59.215 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"followUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Follow
2024-09-23 19:33:59.216 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.216 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 28(Long), 100(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.218 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.218 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:33:59.218 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 28(Long), 2024-09-23T19:33:59(LocalDateTime)
2024-09-23 19:33:59.219 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:33:59.230 [ConsumeMessageThread_xiaohashu_group_6] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":28,"unfollowUserId":100,"createTime":"2024-09-23 19:33:59"}, tags: Unfollow
2024-09-23 19:33:59.231 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:33:59.232 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 28(Long), 100(Long)
2024-09-23 19:33:59.234 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:33:59.234 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:33:59.234 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 28(Long)
2024-09-23 19:33:59.235 [ConsumeMessageThread_xiaohashu_group_6] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:34:39.108 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"followUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Follow
2024-09-23 19:34:39.133 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.259 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 29(Long), 100(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.264 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.264 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.265 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 29(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.266 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.444 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"unfollowUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Unfollow
2024-09-23 19:34:39.447 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:34:39.451 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 29(Long), 100(Long)
2024-09-23 19:34:39.454 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:34:39.454 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:34:39.454 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 29(Long)
2024-09-23 19:34:39.456 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:34:39.517 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"followUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Follow
2024-09-23 19:34:39.519 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.519 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 29(Long), 100(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.520 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.521 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.521 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 29(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.522 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.534 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"unfollowUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Unfollow
2024-09-23 19:34:39.535 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:34:39.535 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 29(Long), 100(Long)
2024-09-23 19:34:39.536 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:34:39.537 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:34:39.537 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 29(Long)
2024-09-23 19:34:39.538 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:34:39.549 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"followUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Follow
2024-09-23 19:34:39.550 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.551 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 29(Long), 100(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.552 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.552 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.553 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 29(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.554 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.566 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"unfollowUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Unfollow
2024-09-23 19:34:39.568 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:34:39.568 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 29(Long), 100(Long)
2024-09-23 19:34:39.569 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:34:39.569 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:34:39.569 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 29(Long)
2024-09-23 19:34:39.570 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:34:39.580 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"followUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Follow
2024-09-23 19:34:39.581 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.581 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 29(Long), 100(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.583 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.583 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.583 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 29(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.585 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.596 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"unfollowUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Unfollow
2024-09-23 19:34:39.597 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:34:39.597 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 29(Long), 100(Long)
2024-09-23 19:34:39.599 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:34:39.599 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:34:39.599 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 29(Long)
2024-09-23 19:34:39.601 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
2024-09-23 19:34:39.612 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"followUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Follow
2024-09-23 19:34:39.613 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==>  Preparing: insert into t_following (id, user_id, following_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.613 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - ==> Parameters: null, 29(Long), 100(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.614 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.domain.mapper.FollowingDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.614 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==>  Preparing: insert into t_fans (id, user_id, fans_user_id, create_time) values (?, ?, ?, ?)
2024-09-23 19:34:39.615 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - ==> Parameters: null, 100(Long), 29(Long), 2024-09-23T19:34:39(LocalDateTime)
2024-09-23 19:34:39.616 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.biz.domain.mapper.FansDOMapper.insert - <==    Updates: 1
2024-09-23 19:34:39.628 [ConsumeMessageThread_xiaohashu_group_2] INFO  c.q.x.u.r.biz.consumer.FollowUnfollowConsumer - ==> FollowUnfollowConsumer 消费了消息 {"userId":29,"unfollowUserId":100,"createTime":"2024-09-23 19:34:39"}, tags: Unfollow
2024-09-23 19:34:39.629 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==>  Preparing: delete from t_following where user_id = ? and following_user_id = ?
2024-09-23 19:34:39.629 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - ==> Parameters: 29(Long), 100(Long)
2024-09-23 19:34:39.630 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFollowingUserId - <==    Updates: 1
2024-09-23 19:34:39.630 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==>  Preparing: delete from t_fans where user_id = ? and fans_user_id = ?
2024-09-23 19:34:39.631 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - ==> Parameters: 100(Long), 29(Long)
2024-09-23 19:34:39.632 [ConsumeMessageThread_xiaohashu_group_2] DEBUG c.q.x.u.r.b.d.m.F.deleteByUserIdAndFansUserId - <==    Updates: 1
